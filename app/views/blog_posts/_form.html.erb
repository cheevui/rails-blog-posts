<%= form_with model: blog_post, local: true do |form| %>

<% if form.object.errors.any? %>
<%= javascript_tag do %>
alert("<%= raw(form.object.errors.full_messages.map { |msg| "â€¢ #{msg}" }.join("\\n")) %>");
<% end %>
<% end %>

<div class="mx-5">
    <div class="mb-4">
        <%= form.label :title, "Title:", class: "font-bold" %>
        <%= form.text_field :title, class: "outline outline-gray-300 rounded w-full mt-1" %>
    </div>

    <div>
        <%= form.label :content, "Content:", class: "font-bold" %>
        <%= form.rich_text_area :content %>
    </div>

    <div class="mt-3">
        <div class="flex">

            <%= form.label :featured_image, "Featured Image", class: "mr-4" %>

            <%= form.file_field :featured_image, direct_upload: true, class: "block text-sm text-gray-500
              file:mr-2 items-center
              file:rounded-mr file:border
              file:hover:bg-gray-100
              file:px-3 file:py-1
              file:text-sm file:font-semibold
              file:hover:cursor-pointer" %>

            <div class="ml-auto">
                <%= form.button class: "hover:text-blue-500 hover:underline mr-1 bg-gray-100" %> |
                <%= link_to "Back", blog_posts_path, class: "hover:text-blue-500 hover:underline mx-1 bg-gray-100" %>
            </div>
        </div>

        <% if blog_post.featured_image.attached? %>
        <%= image_tag blog_post.featured_image, style: "max-width: 300px; height: auto; border-radius: 8px;", class: "mt-3 mb-2" %>
        <div>
            <label>
                <%= form.check_box :remove_featured_image, class: "mb-3" %> Remove current image
            </label>
        </div>
        <% end %>
    </div>

    <% end %>
</div>